<!DOCTYPE html>
<html>
<head>
      <link rel="stylesheet" href="/stylesheet/style.css">

  <title>Search Cities</title>
  <script>
    async function searchCities() {
      const query = document.getElementById('cityQuery').value;
      const res = await fetch(`/cities/search?q=${query}`);
      const data = await res.json();

      const resultDiv = document.getElementById('results');
      resultDiv.innerHTML = '';

      data.forEach(city => {
        const cityLink = document.createElement('a');
        cityLink.href = `/cities/${city._id}`;
        cityLink.innerText = `${city.name}, ${city.country}`;
        cityLink.style.display = 'block';
        resultDiv.appendChild(cityLink);
      });
    }
  </script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top shadow">
  <div class="container-fluid">
    <a class="navbar-brand d-flex align-items-center gap-2" href="/cities/search-page">
      <img src="/images/logo.jpg" alt="Visitly Logo" width="30" height="30" class="rounded-circle">
      Visitly
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link" href="/cities/search-page">Home</a>
        </li>
        <li class="nav-item">
          <form action="/logout" method="POST" class="d-inline">
            <button class="btn btn-link nav-link" type="submit">Logout</button>
          </form>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <h1>Search Cities</h1>
  <input type="text" id="cityQuery" placeholder="Enter city name">
  <button onclick="searchCities()">Search</button>
  <div id="results"></div>
  </ul>
  
</body>
</html>
